<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>네이버지도 스틱코드</title>
    <script type="text/javascript"
        src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=nwb45gwhxz"></script>
</head>

<body>
    <div id="map" style="width:100%; height:800px;"></div>

    <script>
        const setCurrentMyLocation = useSetRecoilState(currentMyLocationAtom);

        useEffect(() => {
            // 내 현재 위치 값 반환 성공 시 실행 함수 -> 내 현재 위치 값을 currentMyLocationAtom에 저장
            const success = (location) => {
                setCurrentMyLocation({
                    lat: location.coords.latitude,
                    lng: location.coords.longitude,
                });
            };
            // 내 현재 위치 값 반환 실패 시 실행 함수 -> 지도 중심을 서울시청 위치로 설정
            const error = () => {
                setCurrentMyLocation({ lat: 37.5666103, lng: 126.9783882 });
            };
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(success, error);
            }
        }, [setCurrentMyLocation]);

        var map = new naver.maps.Map('map', {
            center: new naver.maps.LatLng(37.3700065, 127.121359),
            zoom: 9
        });

        var polyline = new naver.maps.Polyline({
            map: map,
            path: [
                new naver.maps.LatLng(37.359924641705476, 127.1148204803467),

                new naver.maps.LatLng(37.368520071054576, 127.11473464965819),
                new naver.maps.LatLng(37.3685882848096, 127.1088123321533),
                new naver.maps.LatLng(37.37295383612657, 127.10876941680907),
                new naver.maps.LatLng(37.38001321351567, 127.11851119995116),
                new naver.maps.LatLng(37.378546827477855, 127.11984157562254),
                new naver.maps.LatLng(37.376637072444105, 127.12052822113036),
                new naver.maps.LatLng(37.37530703574853, 127.12190151214598),
                new naver.maps.LatLng(37.371657839593894, 127.11645126342773),
                new naver.maps.LatLng(37.36855417793982, 127.1207857131958)
            ]
        });
    </script>

</body>

</html>